(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d658443"],{2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("6b75");function r(t){if(Array.isArray(t))return Object(i["a"])(t)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var s=n("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return r(t)||a(t)||Object(s["a"])(t)||o()}},"399b":function(t,e,n){"use strict";n.d(e,"g",(function(){return i})),n.d(e,"h",(function(){return r})),n.d(e,"a",(function(){return a})),n.d(e,"i",(function(){return s})),n.d(e,"d",(function(){return o})),n.d(e,"j",(function(){return c})),n.d(e,"f",(function(){return d})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"e",(function(){return p}));var i={ALL:"all",PAY:"pay",DELIVERY:"delivery",FINISH:"finish",CLOSE:"close"},r={wechat:1,balance:3},a={NORMAL:"normal",HANDLING:"apply",FINISH:"finish"},s={ONLY_REFUND:0,REFUNDS:1},o={REGISTER:"ZCYZ",FINDPWD:"ZHMM",LOGIN:"YZMDL",CHANGE_MOBILE:"BGSJHM"},c={ALL:"0",WAIT_RETURN:"1",HANDLED:"2",INVALED:"3"},d={ALL:"all",RUNNING:"running",SUCCESS:"success",FAIL:"fail"},l={NORMAL:0,SUCCESS:1,FAIL:2},u={ALL:"all",FIRST:"first",SECOND:"second"},p={DESC:"desc",ASC:"asc",NONE:""}},"6a99":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"order-goods bg-white"},t._l(t.list,(function(e){return n("div",{key:e.id,staticClass:"item-wrap",on:{click:function(n){t.link&&t.goPage("goodsDetail",{id:e.goods_id})}}},[n("div",{staticClass:"item row"},[n("div",{staticClass:"goods-img"},[n("van-image",{attrs:{width:"100%",radius:"5px",height:"100%",src:e.image_str||e.image}})],1),n("div",{staticClass:"goods-info ml10"},[n("div",{staticClass:"goods-name two-txt-cut mb5"},[t._v(" "+t._s(e.goods_name||e.name))]),n("div",{staticClass:"goods-spec xs muted mb10"},[t._v(t._s(e.spec_value_str))]),n("div",{staticClass:"row-between"},[n("div",{staticClass:"goods-price"},[n("div",{staticClass:"lg primary row"},[n("span",{staticClass:"sm"},[t._v("￥")]),n("div",{staticClass:"xl"},[n("price-slice",{attrs:{weight:500,price:e.goods_price}})],1)])]),n("div",{staticClass:"goods-num sm"},[t._v("x"+t._s(e.goods_num))])])])]),t.link&&e.comment_btn?n("div",{staticClass:"footer row"},[n("div",{staticStyle:{flex:"1"}}),e.comment_btn?n("div",{on:{click:function(n){return t.goPage("commodityEvaluation",{id:e.id})}}},[n("button",{staticClass:"plain br60",attrs:{size:"xs"}},[t._v("评价晒图")])]):t._e(),n("div",{staticClass:"ml10"},[n("button",{staticClass:"plain br60",attrs:{size:"xs"},on:{click:function(n){return t.goPage("applyAfterSales",{item_id:e.item_id,order_id:e.order_id})}}},[t._v("申请退款")])])]):t._e()])})),0)},r=[],a=(n("a9e3"),{name:"OrderGoods",components:{},props:{list:{type:Array,default:function(){return[]}},link:{type:Boolean,default:!1},shopId:{type:Number}},methods:{goPage:function(t,e){this.$router.push({name:t,query:e})}}}),s=a,o=(n("dde3"),n("2877")),c=Object(o["a"])(s,i,r,!1,null,"91e9197a",null),d=c.exports;e["a"]=d},"6f1e":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-order"},[n("van-tabs",{attrs:{active:t.active,"line-width":"40","swipe-threshold":"5"},on:{change:t.onChange}},t._l(t.order,(function(t,e){return n("van-tab",{key:e,attrs:{title:t.name,name:t.type}})})),1)],1)},r=[],a=(n("c740"),n("c310")),s=n("399b"),o={name:"userOrder",components:{OrderList:a["a"]},data:function(){return{order:[{name:"全部",type:s["g"].ALL,isShow:!1},{name:"拼团中",type:s["g"].PAY,isShow:!1},{name:"拼团成功",type:s["g"].DELIVERY,isShow:!1},{name:"拼团失败",type:s["g"].FINISH,isShow:!1}],active:s["g"].ALL}},created:function(){var t=this.$route.query.type||s["g"].ALL;this.changeShow(t)},mounted:function(){},methods:{changeShow:function(t){var e=this.order,n=e.findIndex((function(e){return e.type==t}));-1!=n&&(this.active=t,this.order[n].isShow=!0)},onChange:function(t){this.changeShow(t)}}},c=o,d=n("2877"),l=Object(d["a"])(c,i,r,!1,null,"2dd7d1e6",null);e["default"]=l.exports},a070:function(t,e,n){t.exports=n.p+"img/goods_null.d774c28d.png"},a877:function(t,e){t.exports="data:image/png;base64,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"},c310:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"order-list"},[t.isEmpty?i("div",{staticClass:"column-center",staticStyle:{"padding-top":"100px"}},[i("img",{staticClass:"img-null",attrs:{src:n("a070")}}),i("span",{staticClass:"lighter"},[t._v("暂无订单")])]):i("van-list",{attrs:{finished:t.finished,finishedText:"没有更多了",error:t.error},on:{load:t.$getOrderList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.orderList,(function(e){return i("div",{key:e.id,staticClass:"order-item bg-white mt10",on:{click:function(n){return t.goPage("orderDetails",{id:e.id})}}},[i("div",{staticClass:"header row-between"},[i("div",{staticClass:"row"},[1==e.order_type?i("div",{staticClass:"mr5"},[i("van-tag",{attrs:{plain:"",color:t.primaryColor}},[t._v("秒杀")])],1):t._e(),t._v(" 订单编号："+t._s(e.order_sn)+" ")]),i("div",{class:["muted","sm",4==e.order_status?"muted":"primary"]},[t._v(" "+t._s(t.orderStatus(e.order_status))+" ")])]),i("div",{staticClass:"con"},[i("div",{staticClass:"order-goods"},[i("order-goods",{attrs:{list:e.order_goods}})],1),i("div",{staticClass:"all-price row-end"},[i("div",{staticClass:"muted xs"},[t._v("共1件商品，总金额：")]),i("div",{staticClass:"md",staticStyle:{"font-weight":"bold"}},[i("price-slice",{attrs:{showSubscript:!0,price:e.order_amount,weight:500}})],1)])]),e.cancel_btn||e.delivery_btn||e.take_btn||e.del_btn||e.pay_btn?i("div",{staticClass:"footer row"},[i("div",{staticStyle:{flex:"1"}},[1e3*e.order_cancel_time-Date.now()>0?i("div",{staticClass:"primary row sm"},[i("van-count-down",{staticClass:"count-down",attrs:{time:1e3*e.order_cancel_time-Date.now(),format:"mm"}}),t._v("分钟后订单自动关闭 ")],1):t._e()]),e.cancel_btn?i("div",[i("button",{staticClass:"plain br60 lighter",attrs:{size:"sm"},on:{click:function(n){return n.stopPropagation(),t.cancelOrder(e.id)}}},[t._v(" 取消订单 ")])]):t._e(),e.delivery_btn?i("div",{on:{click:function(n){return n.stopPropagation(),t.goPage("goodsLogistics",{id:e.id})}}},[i("button",{staticClass:"plain br60 lighter",attrs:{size:"sm"}},[t._v(" 查看物流 ")])]):t._e(),e.take_btn?i("div",{staticClass:"ml10"},[i("button",{staticClass:"plain br60 primary red",attrs:{size:"sm"},on:{click:function(n){return n.stopPropagation(),t.comfirmOrder(e.id)}}},[t._v(" 确认收货 ")])]):t._e(),e.del_btn?i("div",[i("button",{staticClass:"plain br60 lighter",attrs:{size:"sm"},on:{click:function(n){return n.stopPropagation(),t.delOrder(e.id)}}},[t._v(" 删除订单 ")])]):t._e(),e.pay_btn?i("div",{staticClass:"ml10"},[i("button",{staticClass:"bg-primary br60 white",attrs:{size:"sm"},on:{click:function(n){return n.stopPropagation(),t.payNow(e.id)}}},[t._v(" 立即付款 ")])]):t._e(),e.comment_btn?i("div",{staticClass:"ml10"},[i("button",{staticClass:"plain br60 primary red",attrs:{size:"sm"}},[t._v(" 去评价 ")])]):t._e()]):t._e()])})),0),i("van-dialog",{attrs:{"use-slot":"",value:t.showCancel,showCancelButton:!0,confirmButtonText:0==t.type||2==t.type?"确定":"删除","confirm-button-color":t.primaryColor},on:{confirm:t.onConfirm,cancel:t.onShowDialog}},[i("div",{staticClass:"column-center tips-dialog"},[i("img",{staticClass:"icon-lg",attrs:{src:n("a877")}}),0==t.type?i("div",{staticStyle:{"margin-top":"15px"}},[t._v(" 确认取消该订单吗？ ")]):t._e(),1==t.type?i("div",{staticStyle:{"margin-top":"15px"}},[t._v(" 确认删除该订单吗？ ")]):t._e(),2==t.type?i("div",{staticStyle:{"margin-top":"15px"}},[t._v(" 确认收货吗？ ")]):t._e()])])],1)},r=[],a=n("2909"),s=(n("96cf"),n("1da1")),o=(n("18a0"),n("c24f")),c=n("6a99"),d=n("b562"),l=n("2f9f"),u={name:"OrderList",components:{OrderGoods:c["a"]},props:{orderType:{type:String}},data:function(){return{loading:!0,finished:!1,error:!1,orderList:[],showCancel:!1,isEmpty:!1,type:"",page:1}},created:function(){this.$getOrderList()},methods:{goPage:function(t,e){this.$router.push({name:t,query:e})},onShowDialog:function(){this.showCancel=!this.showCancel},delOrder:function(t){var e=this;this.id=t,this.type=1,this.$nextTick((function(){e.onShowDialog()}))},cancelOrder:function(t){var e=this;this.id=t,this.type=0,this.$nextTick((function(){e.onShowDialog()}))},comfirmOrder:function(t){var e=this;this.id=t,this.type=2,this.$nextTick((function(){e.onShowDialog()}))},onConfirm:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=null,e.t0=t.type,e.next=0===e.t0?4:1===e.t0?8:2===e.t0?12:16;break;case 4:return e.next=6,Object(o["i"])(t.id);case 6:return n=e.sent,e.abrupt("break",16);case 8:return e.next=10,Object(o["n"])(t.id);case 10:return n=e.sent,e.abrupt("break",16);case 12:return e.next=14,Object(o["k"])(t.id);case 14:return n=e.sent,e.abrupt("break",16);case 16:1==n.code&&(t.onShowDialog(),t.$toast({message:n.msg}),t.reflesh());case 17:case"end":return e.stop()}}),e)})))()},reflesh:function(){this.page=1,this.orderList=[],this.finished=!1,this.$getOrderList()},$getOrderList:function(){var t=this,e=this.page,n=this.orderType,i=this.orderList,r=this.finished;this.loading=!0,r||Object(o["G"])({type:n,page_no:e}).then((function(n){if(1==n.code){t.loading=!1;var r=n.data,s=r.list,o=r.more;i.push.apply(i,Object(a["a"])(s)),t.orderList=i,t.page=++e,t.$nextTick((function(){o||(t.finished=!0),i.length<=0&&(t.isEmpty=!0)}))}else t.error=!0}))},payNow:function(t){var e=this;this.$toast({type:"loading",message:"请稍等...",duration:0}),Object(d["o"])({from:"order",order_id:t}).then((function(t){if(e.$toast.clear(),1==t.code){var n=t.data;Object(l["a"])(n).then((function(t){e.$toast({message:"支付成功"}),e.reflesh()})).catch((function(){}))}}))}},computed:{orderStatus:function(){return function(t){var e="";switch(t){case 0:e="待支付";break;case 1:e="待发货";break;case 2:e="待收货";break;case 3:e="已完成";break;case 4:e="订单已关闭";break}return e}}}},p=u,g=(n("cc60"),n("2877")),m=Object(g["a"])(p,i,r,!1,null,"6cba6d41",null),f=m.exports;e["a"]=f},c740:function(t,e,n){"use strict";var i=n("23e7"),r=n("b727").findIndex,a=n("44d2"),s=n("ae40"),o="findIndex",c=!0,d=s(o);o in[]&&Array(1)[o]((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!d},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a(o)},cc60:function(t,e,n){"use strict";var i=n("d3ad"),r=n.n(i);r.a},d3ad:function(t,e,n){},dde3:function(t,e,n){"use strict";var i=n("ef03"),r=n.n(i);r.a},ef03:function(t,e,n){}}]);
//# sourceMappingURL=chunk-2d658443.73f6908f.js.map