(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36195f5c"],{"05b2":function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"goods-seckill"},[s("div",{staticClass:"banner"},[s("ad-swiper",{attrs:{id:14,padding:"10px"}})],1),s("div",{ref:"timeListContainer",staticClass:"time-list-container row",staticStyle:{"touch-action":"pan-y"}},[s("div",{staticClass:"time-list row"},t._l(t.seckillTime,(function(i,e){return s("div",{key:e,staticClass:"column-center time-item",attrs:{id:"item"+e},on:{click:function(i){return t.changeTimeList(e)}}},[s("div",{staticClass:"xl bold",class:{primary:1==i.active}},[t._v(t._s(i.start_time))]),s("div",{staticClass:"br60 xs normal",class:{"bg-primary white":1==i.active,muted:2==i.status},staticStyle:{padding:"0 5px"}},[t._v(t._s(i.tips))])])})),0)]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isDataNull,expression:"!isDataNull"}],staticClass:"goods-list mt5"},[s("van-list",{attrs:{finished:t.isfinished,"finished-text":"没有更多了"},on:{load:t.$getSeckillGoods},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},t._l(t.seckillGoods,(function(i,e){return s("div",{key:e,staticClass:"goods-item row bg-white",on:{click:function(s){return t.goGoodsDetail(i.id,i.shop_id)}}},[s("div",{staticClass:"goods-img mr10"},[s("van-image",{attrs:{width:"100%",height:"100%",radius:"10px",src:i.image}})],1),s("div",{staticClass:"goods-info"},[s("div",{staticClass:"goods-name two-txt-cut mb5 nr"},[t._v(t._s(i.name))]),s("label",{staticClass:"sale-info xs primary br60"},[t._v("已抢"+t._s(i.sales_sum)+"件")]),s("div",{staticClass:"info-footer row-between",staticStyle:{"margin-top":"2px"}},[s("div",{staticClass:"price"},[s("price-slice",{staticClass:"mr5",attrs:{price:i.seckill_price,color:t.primaryColor,firstClass:"xl",secondClass:"sm",showSubscript:!0,subScriptClass:"sm"}}),s("price-slice",{staticClass:"line-through muted",attrs:{price:i.min_price,color:"#999999",firstClass:"xs",secondClass:"xs",showSubscript:!0,subscriptClass:"xs"}})],1),s("button",{staticClass:"br60 white nr",class:{gray:2==t.currentStatus,"primary-btn":1==t.currentStatus,"boder-btn primary":0==t.currentStatus},attrs:{size:"sm"},on:{click:function(s){return s.stopPropagation(),t.goGoodsDetail(i.id,i.shop_id)}}},[t._v(" "+t._s(2==t.currentStatus?"已结束":1==t.currentStatus?"立即抢购":"未开始")+" ")])])])])})),0)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isDataNull,expression:"isDataNull"}],staticClass:"data-null column-center"},[t._m(0),s("div",{staticClass:"muted nr"},[t._v(" 暂无任何活动商品~ ")])])])},a=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"img-null"},[e("img",{attrs:{src:s("a070")}})])}],n=(s("c740"),s("4160"),s("159b"),s("2909")),r=s("229e"),o=s("73f5"),c=s("1b01"),l={name:"goodsSeckill",components:{AdSwiper:c["a"]},data:function(){return{seckillTime:[],seckillGoods:[],loading:!0,isfinished:!1,page:1,refreshing:!1,id:0,timeIndex:0,timeStatus:[],timeScroll:null,currentStatus:0,isDataNull:!1}},watch:{},methods:{goGoodsDetail:function(t){this.$router.push({name:"goodsDetail",query:{id:t}})},cleanStatus:function(){this.page=1,this.isfinished=!1,this.seckillGoods=[],this.isDataNull=!1},onRefresh:function(){this.cleanStatus(),this.$getSeckillGoods()},changeTimeList:function(t){var i=this,s=this.seckillTime[t].id;this.seckillTime.forEach((function(s,e){t==e?(s.active=1,i.currentStatus=s.status):s.active=0})),this.cleanStatus(),this.id=s,this.$getSeckillGoods(),this.timeIndex=t-2,this.timeIndex<0&&(this.timeIndex=0),this.timeScroll.scrollToElement("#item"+this.timeIndex,500)},$getSeckillTime:function(){var t=this;Object(o["y"])().then((function(i){if(1==i.code){if(i.data.length&&i.data.length<=0)return void(t.isDataNull=!0);var s=t.$refs.timeListContainer,e=i.data.findIndex((function(t){return 1==t.status}));-1==e&&(e=i.data.findIndex((function(t){return 0==t.status}))),-1==e?e=0:i.data[e].active=1,t.id=i.data[e].id,t.seckillTime=i.data,t.currentStatus=i.data[e].status,t.$getSeckillGoods(),t.$nextTick((function(){t.timeScroll=new r["a"](s,{scrollX:!0,eventPassthrough:"vertical",useTransition:!1}),t.timeIndex=e-2,t.timeIndex<0&&(t.timeIndex=0),t.timeScroll.scrollToElement("#item"+t.timeIndex)}))}}))},$getSeckillGoods:function(){var t=this;this.refreshing=!0,this.loading=!0,1!=this.isfinished?Object(o["x"])({id:this.id,page_no:this.page}).then((function(i){if(1==i.code){var s,e=i.data,a=e.list,r=e.more;t.loading=!1,(s=t.seckillGoods).push.apply(s,Object(n["a"])(a)),t.page++,r||(t.isfinished=!0,t.refreshing=!1),t.seckillGoods.length<=0&&(t.isfinished=!0,t.isDataNull=!0,t.refreshing=!1)}})):this.refreshing=!1}},created:function(){this.$getSeckillTime()}},d=l,u=(s("0d04"),s("2877")),m=Object(u["a"])(d,e,a,!1,null,"589f901a",null);i["default"]=m.exports},"0d04":function(t,i,s){"use strict";var e=s("c23d"),a=s.n(e);a.a},"1b01":function(t,i,s){"use strict";var e=s("3d0e");i["a"]=e["a"]},2909:function(t,i,s){"use strict";s.d(i,"a",(function(){return c}));var e=s("6b75");function a(t){if(Array.isArray(t))return Object(e["a"])(t)}s("a4d3"),s("e01a"),s("d28b"),s("a630"),s("d3b7"),s("3ca3"),s("ddb0");function n(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var r=s("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return a(t)||n(t)||Object(r["a"])(t)||o()}},a070:function(t,i,s){t.exports=s.p+"img/goods_null.d774c28d.png"},c23d:function(t,i,s){},c740:function(t,i,s){"use strict";var e=s("23e7"),a=s("b727").findIndex,n=s("44d2"),r=s("ae40"),o="findIndex",c=!0,l=r(o);o in[]&&Array(1)[o]((function(){c=!1})),e({target:"Array",proto:!0,forced:c||!l},{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n(o)}}]);
//# sourceMappingURL=chunk-36195f5c.a23094f5.js.map