(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cb7b9f92"],{"69a6":function(t,e,i){"use strict";var s=i("dcb9"),a=i.n(s);a.a},a15b:function(t,e,i){"use strict";var s=i("23e7"),a=i("44ad"),o=i("fc6a"),n=i("a640"),c=[].join,r=a!=Object,d=n("join",",");s({target:"Array",proto:!0,forced:r||!d},{join:function(t){return c.call(o(this),void 0===t?",":t)}})},cfcf:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"address-edit"},[s("form",{staticClass:"form-submit",on:{submit:t.formSubmit}},[s("div",{staticClass:"form-item bg-white"},[s("div",{staticClass:"row content",staticStyle:{height:"100%"}},[s("div",{staticClass:"label nr"},[t._v("收货人")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.contact,expression:"contact"}],staticClass:"ml10 nr",attrs:{name:"contact",type:"text",placeholder:"请填写收货人姓名"},domProps:{value:t.contact},on:{input:function(e){e.target.composing||(t.contact=e.target.value)}}})])]),s("div",{staticClass:"form-item bg-white"},[s("div",{staticClass:"row content",staticStyle:{height:"100%"}},[s("div",{staticClass:"label nr"},[t._v("联系方式")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.telephone,expression:"telephone"}],staticClass:"ml10 nr",attrs:{name:"telephone",type:"text",placeholder:"请填写手机号码"},domProps:{value:t.telephone},on:{input:function(e){e.target.composing||(t.telephone=e.target.value)}}})])]),s("div",{staticClass:"form-item bg-white"},[s("van-field",{attrs:{readonly:"",clickable:"",name:"area",value:t.region,label:"地区选择",placeholder:"点击选择省市区","right-icon":"arrow"},on:{click:function(e){t.showArea=!0}}})],1),s("div",{staticClass:"form-item bg-white",staticStyle:{height:"100px"}},[s("van-field",{attrs:{rows:"4",name:"address",autosize:"",label:"详细地址",type:"textarea",placeholder:"请填写小区、街道、门牌号等信息",border:!1},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),s("div",{staticClass:"set-default mt5 mb5 bg-white"},[s("van-checkbox",{staticStyle:{"font-size":"14px","font-weight":"400"},attrs:{"icon-size":"17px","checked-color":t.primaryColor},model:{value:t.is_model,callback:function(e){t.is_model=e},expression:"is_model"}},[t._v("设置为默认")])],1),s("button",{staticClass:"bg-primary white btn row-center",attrs:{type:"submit"}},[t._v("完成")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.id>=0,expression:"id >= 0"}],staticClass:"bg-white btn row-center",on:{click:t.showWarn}},[t._v("删除该收货地址")])]),s("van-dialog",{attrs:{"show-cancel-button":"",confirmButtonColor:t.primaryColor,confirmButtonText:"确认"},on:{confirm:t.addressDelete},model:{value:t.showWarning,callback:function(e){t.showWarning=e},expression:"showWarning"}},[s("div",{staticClass:"dialog-content column-center"},[s("div",{staticClass:"icon"},[s("img",{attrs:{src:i("a877")}})]),s("div",{staticClass:"normal",staticStyle:{"margin-top":"15px"}},[t._v("确认删除该收货地址吗?")])])]),s("van-popup",{attrs:{position:"bottom"},model:{value:t.showArea,callback:function(e){t.showArea=e},expression:"showArea"}},[s("van-area",{attrs:{"area-list":t.areaList},on:{confirm:t.onConfirm,cancel:function(e){t.showArea=!1}}})],1)],1)},a=[],o=(i("a15b"),i("d81d"),i("b0c0"),i("c24f")),n=i("ff82"),c={name:"addressEdit",data:function(){return{contact:"",telephone:"",address:"",region:"",province_id:0,city_id:0,district_id:0,is_default:0,is_model:!1,showArea:!1,areaList:n["a"],showWarning:!1,id:-1}},methods:{onConfirm:function(t){this.region=t.map((function(t){return t.name})).join(" "),this.province_id=t[0].code,this.city_id=t[1].code,this.district_id=t[2].code,this.showArea=!1},formSubmit:function(t){t.preventDefault(),this.id<0||!this.id?this.$addAddress():this.$editAddress()},showWarn:function(){this.showWarning=!0},$getOneAddress:function(t){var e=this;Object(o["D"])({id:t}).then((function(t){if(1==t.code){var i=t.data,s=i.id,a=i.contact,o=i.telephone,n=i.province,c=i.city,r=i.district,d=i.address,l=i.is_default,h=i.province_id,u=i.city_id,m=i.district_id;e.id=s,e.contact=a,e.telephone=o,e.address=d,e.region=n+" "+c+" "+r,e.is_model=parseInt(l),e.province_id=h,e.city_id=u,e.district_id=m}}))},$editAddress:function(){var t=this;if(this.contact)if(this.telephone)if(this.region)if(this.address){var e={id:this.id,contact:this.contact,telephone:this.telephone,province_id:this.province_id,city_id:this.city_id,district_id:this.district_id,address:this.address,is_default:this.is_model?1:0};Object(o["o"])(e).then((function(e){1==e.code&&(t.$toast({message:e.msg}),setTimeout((function(){t.$router.back(-1)}),1e3))}))}else this.$toast({message:"请填写小区、街道、门牌号等信息"});else this.$toast({message:"请选择省、市、区"});else this.$toast({message:"请填写手机号码"});else this.$toast({message:"请填写收货人姓名"})},$addAddress:function(){var t=this;if(this.contact)if(this.telephone)if(this.region)if(this.address){var e={contact:this.contact,telephone:this.telephone,province_id:this.province_id,city_id:this.city_id,district_id:this.district_id,address:this.address,is_default:this.is_model?1:0};Object(o["a"])(e).then((function(e){1==e.code&&(t.$toast({message:e.msg}),setTimeout((function(){t.$router.back(-1)}),1e3))}))}else this.$toast({message:"请填写小区、街道、门牌号等信息"});else this.$toast({message:"请选择省、市、区"});else this.$toast({message:"请填写手机号码"});else this.$toast({message:"请填写收货人姓名"})},$delAddress:function(){var t=this;Object(o["m"])(this.id).then((function(e){1==e.code&&(t.$toast({message:e.msg}),setTimeout((function(){t.$router.back(-1)}),1e3))}))},addressDelete:function(){this.$delAddress()},$getWxAddress:function(){var t=this,e=this.$ls.get("addressinfo");if(e){var i=JSON.parse(e);this.region=i.province+" "+i.city+" "+i.district,Object(o["l"])({province:i.province,city:i.city,district:i.district}).then((function(e){if(1==e.code){var s=e.data,a=s.province,o=s.city,n=s.district;t.contact=i.contact,t.telephone=i.telephone,t.address=i.address,t.province_id=a,t.city_id=o,t.district_id=n}}))}}},created:function(){this.id=this.$route.query.id,this.id>=0?this.$getOneAddress(this.id):(document.title="添加地址",this.$getWxAddress())}},r=c,d=(i("69a6"),i("2877")),l=Object(d["a"])(r,s,a,!1,null,"516dd759",null);e["default"]=l.exports},d81d:function(t,e,i){"use strict";var s=i("23e7"),a=i("b727").map,o=i("1dde"),n=i("ae40"),c=o("map"),r=n("map");s({target:"Array",proto:!0,forced:!c||!r},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},dcb9:function(t,e,i){}}]);
//# sourceMappingURL=chunk-cb7b9f92.1f1d3c4e.js.map